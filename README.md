# OpenTTS TensorFlowTTS Integration

This library integrates OpenTTS (an open-source text-to-speech server) with TensorFlowTTS (Google's deep learning toolkit for text-to-speech), enabling advanced, customizable speech synthesis. By wrapping TensorFlowTTS and exposing it through OpenTTS, developers can easily leverage both technologies in their projects without managing the integration themselves.

The main goals of this library are:
1. To provide a seamless integration between OpenTTS and TensorFlowTTS
2. To offer developers an easy-to-use API for accessing both technologies
3. To enable advanced, customizable speech synthesis capabilities in projects that use OpenTTS

**Note: Developed with Claude.ai and Claude Engineer CLI assistance.**

## Development Status

This project is currently in early development stages and is not yet ready for production use. It is a Development-only GitHub Repository intended for experimentation and collaboration.

We are actively working on implementing core functionalities and plan to add a UI in the near future. The API and features are subject to change as the project evolves.

## Features

- Seamless integration of OpenTTS and TensorFlowTTS
- Simple API for voice selection and speech generation
- Multiple audio output format support
- Extensible architecture for new TTS engines
- Comprehensive test suite ensuring reliability and robustness
- Performance optimization through caching and batch processing
- Internationalization (i18n) support

## AI-Assisted Development Insights

Our project leverages AI assistance throughout the development process. The `/ai_insight/` directory contains valuable information about this AI-assisted development approach:

### 1. /dev-summaries/
Comprehensive project progress updates that allow any AI or developer to quickly understand the current state of the project. This serves as a continuity mechanism to preserve context beyond various model and system limitations, including token limits, context windows, session boundaries, rate limits, stateless API interactions, parsing complexities, and cross-model compatibility issues. 

### 2. /prds/
Product requirement documents generated by both OpenAI and Anthropic's Claude 3.5 Sonnet, outlining the specifications for this project.

### 3. /prompts/
A collection of prompts designed to efficiently bring Claude back up to speed after any connection or context loss, ensuring continuity in the development process.

### 4. /steps/
A continuously updated file containing Claude's recommendations for next steps in the project, providing a clear roadmap for development.

### 5. /testing-blocks
CLI outputs for each encountered bug. These are submitted to Claude via Markdown files rather than direct paste to prevent formatting issues caused by multiple carriage returns. This method helps maintain Claude Engineer's stability when processing large blocks of text.

## Installation & Requirements

Ensure you have the following dependencies:
- Python 3.7+
- TensorFlow version: 2.4.0 or higher (but less than 3.0)
- TensorFlowTTS version: 1.8 (or the latest version compatible with our project)
- OpenTTS (currently mocked, not required for installation)

Notes: OpenTTS is currently mocked in this project and not directly used. It is listed here as a conceptual dependency, but is not required for installation or development at this stage. Future versions of this project will integrate directly with OpenTTS.

TensorFlowTTS installation is handled separately due to potential compatibility issues. 

1. Ensure you have Python 3.7+ installed on your system. You can check your Python version by running:
   ```bash
   python --version
   ```
2. Create a virtual environment:
   ```bash
   python -m venv opentts-tensorflowtts-venv
   ```   
3. Activate the virtual environment:
- On Unix or MacOS:
 ```bash
 source opentts-tensorflowtts-venv/bin/activate
 ```
- On Windows:
 ```bash
 venv\Scripts\activate
 ````
Your command prompt should now show the name of your virtual environment, indicating it's active.
   
4. Clone the repository, and install in editable mode:
   ```bash
   git clone https://github.com/parkertoddbrooks/OpenTTS-TensorFlowTTS-Integration.git
   cd OpenTTS-TensorFlowTTS-Integration
   # This installs the project with mocked OpenTTS functionality3 
   pip install -e .
   ```
5. Install the development dependencies:
   ```bash
   pip install -r requirements.txt
   ```   
6. Install TensorFlow:
   ```bash
   pip install tensorflow==2.4.0
   ```
   Note on GPU Support: If you plan to use GPU acceleration, ensure you have compatible CUDA and cuDNN versions installed. You may need to install the GPU version of TensorFlow by using `pip install tensorflow-gpu==2.4.0` instead of the regular TensorFlow installation.
   
7. Install TensorFlowTTS from the official GitHub repository:
   ```bash
   pip install git+https://github.com/TensorSpeech/TensorFlowTTS.git@v1.8
   ```
8. Verify the installation:
   ```bash
   python -c "import tensorflow_tts; print(tensorflow_tts.__version__)"
   ```
9. You're now ready to start developing and experimenting with the code!

### Potential Issues and Troubleshooting

1. **Compatibility with TensorFlow**: Ensure that the TensorFlow version is compatible with TensorFlowTTS. If you encounter issues, try installing an earlier version of TensorFlow.

2. **CUDA and cuDNN**: If you're using GPU acceleration, make sure you have compatible CUDA and cuDNN versions installed.

3. **Dependency Conflicts**: If you encounter dependency conflicts, you may need to create a separate virtual environment for this project.

4. **Build Errors**: On some systems, you might need to install additional build tools. On Ubuntu, for example:
   ```bash
   sudo apt-get install build-essential libssl-dev libffi-dev python3-dev
   ```
### Additional Resources

- [TensorFlowTTS GitHub Repository](https://github.com/TensorSpeech/TensorFlowTTS)
- [TensorFlowTTS Documentation](https://tensorspeech.github.io/TensorFlowTTS/)

If you encounter any issues not covered in this guide, please refer to the official TensorFlowTTS documentation.

## Quick Start

```python
from opentts_tensorflow_integration import TTSEngine

tts_engine = TTSEngine()
tts_engine.synthesize("Hello, world!", output_file="output.wav")
```

## Documentation

For additional documentation, please refer to the [documentation.md](documentation.md) file.

## Testing

We have a comprehensive test suite covering all major components of the library. To run the tests, use:

```bash
pytest tests/
```

Our current test suite consists of 40 tests, all of which are passing. The test suite runs in approximately 3.39 seconds on our development environment.```

Note: There are currently two DeprecationWarnings related to Google's protocol buffers library. These are not directly related to our code but to a dependency (likely TensorFlow or a related library). These warnings suggest that in Python 3.14, some functionality used by our dependencies might change.

## Known Issues

- DeprecationWarnings related to Google's protocol buffers library may appear during testing. These do not affect the functionality of the library but should be monitored for future updates.

## Contributing

Contributions are welcome. See [documentation.md](documentation.md)

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## Acknowledgements

- [OpenTTS](https://github.com/synesthesiam/opentts)
- [TensorFlow TTS](https://github.com/TensorSpeech/TensorFlowTTS)
